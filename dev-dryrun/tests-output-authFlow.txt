  console.log
    [DB] test sqlite storage = :memory:

      at log (src/config/database.js:118:13)

FAIL tests/security/authFlow.test.js
  â— Test suite failed to run

    ReferenceError: Cannot access 'requireAssistantPlan' before initialization

      24 | router.get(
      25 |   "/assistant",
    > 26 |   requireAssistantPlan,
         |   ^
      27 |   aiRouteGuard({ allowedMethods: ["GET", "POST"] }),
      28 |   (req, res, next) => {
      29 |     // ...existing code for GET /assistant...

      at Object.requireAssistantPlan (src/routes/aiReadOnly.js:26:3)
      at Object.require (src/routes/ai.js:6:26)
      at Object.require (src/app.js:111:18)
      at Object.require (tests/security/authFlow.test.js:4:13)

Test Suites: 1 failed, 1 total
Tests:       0 total
Snapshots:   0 total
Time:        0.557 s, estimated 2 s
Ran all test suites matching /tests\/security\/authFlow.test.js/i.
Force exiting Jest: Have you considered using `--detectOpenHandles` to detect async operations that kept running after all tests finished?
